const a21_0x4fcf5f=a21_0x9759;(function(_0x4916fb,_0x33d3f6){const _0x118840=a21_0x9759,_0x3c025e=_0x4916fb();while(!![]){try{const _0x3e0b67=-parseInt(_0x118840(0x86))/0x1*(-parseInt(_0x118840(0x74))/0x2)+-parseInt(_0x118840(0xd0))/0x3*(parseInt(_0x118840(0x9a))/0x4)+parseInt(_0x118840(0x81))/0x5*(parseInt(_0x118840(0xaa))/0x6)+parseInt(_0x118840(0xbd))/0x7*(parseInt(_0x118840(0xcb))/0x8)+parseInt(_0x118840(0xb2))/0x9+parseInt(_0x118840(0x94))/0xa*(-parseInt(_0x118840(0xba))/0xb)+parseInt(_0x118840(0x98))/0xc;if(_0x3e0b67===_0x33d3f6)break;else _0x3c025e['push'](_0x3c025e['shift']());}catch(_0x413eb0){_0x3c025e['push'](_0x3c025e['shift']());}}}(a21_0x26e2,0x98531));const OUTPUT_FORMAT={'RAW_16KHZ_16BIT_MONO_PCM':'raw-16khz-16bit-mono-pcm','RAW_24KHZ_16BIT_MONO_PCM':a21_0x4fcf5f(0xca),'OGG_48KHZ_16BIT_MONO_OPUS':a21_0x4fcf5f(0xa5),'default':'audio-24khz-48kbitrate-mono-mp3'};function a21_0x26e2(){const _0x22ea15=['utf-8','sourceopen','Path:turn.start','toStream','_outputFormat','data','setMetadata','updateend','VOICE_LANG_REGEX','457095gbGxdM','from','SYNTH_URL','arrayBuffer','_voiceLocale','7650JdHfbs','read','Path:turn.end','close','<speak\x20version=\x221.0\x22\x20xmlns=\x22http://www.w3.org/2001/10/synthesis\x22\x20xmlns:mstts=\x22https://www.w3.org/2001/mstts\x22\x20xml:lang=\x22','createObjectURL','enqueue','info','getReader','onopen','_rawSSMLRequest','UNKNOWN\x20MESSAGE','disconnected','string','970PYDrWl','_queue','includes','join','2845116OSfCpf','replace','3783748MaYqqq','json','exec','_send','slice','set','_SSMLTemplate','OUTPUT_FORMAT','_connection','X-RequestId:','padStart','ogg-48khz-16bit-mono-opus','rawToStream','\x22\x20>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings','now','30vuuZgv','Path:response','\x0d\x0aContent-Type:application/ssml+xml\x0d\x0aPath:ssml\x0d\x0a\x0d\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','addSourceBuffer','toString','startsWith','options','6891084ULALgy','MediaSource','_voice','Connected\x20in','_initClient','ShortName','_ws','length','123761fuwlrA','voice','_connect','49EWsuNn','en-NZ','audio/mpeg','_enableLogger','onload','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<voice\x20name=\x22','error','Hi,\x20how\x20are\x20you?','then','readyState','default','en-TZ','onmessage','raw-24khz-16bit-mono-pcm','1198104EGPrwk','onerror','data:audio/mp3;base64,','indexOf','name','3ySZHjR','decode','trim','readAsArrayBuffer','OPEN','Path:audio\x0d\x0a','https://speech.platform.bing.com/consumer/speech/synthesize/readaloud/voices/list?trustedclienttoken=6A5AA1D4EAFF4E9FB37E23D68491D6F4','OnVoicesChanged','addEventListener','_startTime','40JKycwo','Firefox','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendBuffer'];a21_0x26e2=function(){return _0x22ea15;};return a21_0x26e2();}fetch(a21_0x4fcf5f(0x70))[a21_0x4fcf5f(0xc5)](_0x48372b=>_0x48372b[a21_0x4fcf5f(0x9b)]())[a21_0x4fcf5f(0xc5)](_0x40a63d=>{const _0x454978=a21_0x4fcf5f;for(let _0x51232c of _0x40a63d){if(_0x51232c[_0x454978(0xb7)][_0x454978(0xb0)](_0x454978(0xc8))||_0x51232c[_0x454978(0xb7)][_0x454978(0xb0)](_0x454978(0xbe)))continue;_0x51232c['id']=_0x51232c[_0x454978(0xb7)],_0x51232c['ms']=!![],_0x51232c[_0x454978(0xcf)]=_0x51232c['ShortName'],Vue[_0x454978(0x9f)](bs[_0x454978(0xa8)][_0x454978(0xbb)][_0x454978(0xb1)],_0x51232c['name'],_0x51232c);}globalThis[_0x454978(0x71)]?.();});class MsEdgeTTS{static ['SYNTH_URL']='wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1?TrustedClientToken=6A5AA1D4EAFF4E9FB37E23D68491D6F4';static [a21_0x4fcf5f(0xa1)]=OUTPUT_FORMAT;static [a21_0x4fcf5f(0x80)]=/\w{2}-\w{2}/;constructor(){const _0x271cf7=a21_0x4fcf5f;let _0x585b5c=arguments[_0x271cf7(0xb9)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:!![];this['_enableLogger']=_0x585b5c,this[_0x271cf7(0x95)]={};}async[a21_0x4fcf5f(0x9d)](_0x2676c3){const _0x148530=a21_0x4fcf5f;this['_connection']?.[_0x148530(0xc6)]!==WebSocket[_0x148530(0x6e)]&&await this[_0x148530(0xb6)](),this['_connection']['send'](_0x2676c3);}[a21_0x4fcf5f(0xbc)](){const _0x9e7d48=a21_0x4fcf5f;if(this[_0x9e7d48(0xc0)])this[_0x9e7d48(0x73)]=Date['now']();return this[_0x9e7d48(0xb8)]=new WebSocket(MsEdgeTTS[_0x9e7d48(0x83)]),new Promise(_0x42c9ef=>this[_0x9e7d48(0xb8)][_0x9e7d48(0x8f)]=_0x42c9ef);}async[a21_0x4fcf5f(0xb6)](){const _0x22c61b=a21_0x4fcf5f;this[_0x22c61b(0xa2)]=(await this[_0x22c61b(0xbc)]())['target'];if(this['_enableLogger'])console[_0x22c61b(0xad)](_0x22c61b(0xb5),(Date[_0x22c61b(0xa9)]()-this[_0x22c61b(0x73)])/0x3e8,'seconds');let _0x7dbc00;this[_0x22c61b(0xa2)]['onclose']=()=>{const _0x46f6ec=_0x22c61b;if(this['_enableLogger'])console['log'](_0x46f6ec(0x92));try{const _0x2bc65a=this[_0x46f6ec(0x95)][_0x7dbc00];_0x2bc65a[_0x46f6ec(0x89)]();}catch(_0x1b8f15){}},this[_0x22c61b(0xa2)][_0x22c61b(0xc9)]=_0x720da6=>{const _0x107854=_0x22c61b,_0x2a0996=typeof _0x720da6[_0x107854(0x7d)]===_0x107854(0x93)?_0x720da6[_0x107854(0x7d)]:new Uint8Array(_0x720da6[_0x107854(0x7d)]);if(typeof _0x2a0996===_0x107854(0x93)){_0x7dbc00=/X-RequestId:(.*?)\r\n/gm[_0x107854(0x9c)](_0x2a0996)[0x1];if(_0x2a0996['includes'](_0x107854(0x7a))){}else{if(_0x2a0996[_0x107854(0x96)](_0x107854(0x88))){}else{if(_0x2a0996[_0x107854(0x96)](_0x107854(0xab))){}else console['log'](_0x107854(0x91),_0x2a0996);}}}else{if(_0x720da6[_0x107854(0x7d)]instanceof Blob){const _0x3b4e6b=new FileReader();_0x3b4e6b[_0x107854(0xc1)]=()=>{const _0x3d1f64=_0x107854,_0x50731a=new Uint8Array(_0x3b4e6b['result']),_0x4a6d4c=/X-RequestId:(.*?)\r\n/gm[_0x3d1f64(0x9c)](new TextDecoder()[_0x3d1f64(0x6b)](_0x50731a))[0x1],_0x5b68b7=this[_0x3d1f64(0x95)][_0x4a6d4c];if(_0x50731a[0x0]===0x0&&_0x50731a[0x1]===0x67&&_0x50731a[0x2]===0x58)_0x5b68b7[_0x3d1f64(0x89)]();else{let _0xd73cd2=_0x3d1f64(0x6f);const _0x57a60f=new TextDecoder(_0x3d1f64(0x78))['decode'](_0x50731a),_0x5f41d8=_0x57a60f[_0x3d1f64(0xce)](_0xd73cd2)+_0xd73cd2[_0x3d1f64(0xb9)],_0x18f25e=_0x50731a[_0x3d1f64(0x9e)](_0x5f41d8);console[_0x3d1f64(0x8d)]('AUDIO\x20DATA'),_0x5b68b7[_0x3d1f64(0x8c)](_0x18f25e);}},_0x3b4e6b[_0x107854(0x6d)](_0x720da6[_0x107854(0x7d)]);}}},await this[_0x22c61b(0x9d)]('Content-Type:application/json;\x20charset=utf-8\x0d\x0aPath:speech.config\x0d\x0a\x0d\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22context\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22synthesis\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22audio\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22metadataoptions\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22sentenceBoundaryEnabled\x22:\x20\x22false\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22wordBoundaryEnabled\x22:\x20\x22false\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22outputFormat\x22:\x20\x22'+this[_0x22c61b(0x7c)]+_0x22c61b(0x76)),this[_0x22c61b(0xb8)][_0x22c61b(0xcc)]=function(_0x25e794){throw new Error('Connect\x20Error:\x20'+_0x25e794);};}async[a21_0x4fcf5f(0x7e)](_0x262ee2,_0x19d31d,_0x5c5961){const _0x474214=a21_0x4fcf5f,_0x40abf2=this['_voice'],_0x510f48=this[_0x474214(0x85)],_0x188054=this['_outputFormat'];this[_0x474214(0xb4)]=_0x262ee2,this[_0x474214(0x85)]=_0x5c5961;if(!this[_0x474214(0x85)]){const _0xbf7c1e=MsEdgeTTS[_0x474214(0x80)]['exec'](this['_voice']);if(!_0xbf7c1e)throw new Error('Could\x20not\x20infer\x20voiceLocale\x20from\x20voiceName!');this['_voiceLocale']=_0xbf7c1e[0x0];}this[_0x474214(0x7c)]=_0x19d31d;const _0x10db6d=_0x40abf2!==this[_0x474214(0xb4)]||_0x510f48!==this[_0x474214(0x85)]||_0x188054!==this[_0x474214(0x7c)];if(!this[_0x474214(0xb8)]||_0x10db6d){}}async['toStream'](_0x578d48){const _0x51761d=a21_0x4fcf5f;return this[_0x51761d(0x90)](this[_0x51761d(0xa0)](_0x578d48));}async[a21_0x4fcf5f(0xa6)](_0x70ea2f){const _0x358255=a21_0x4fcf5f;return this[_0x358255(0x90)](_0x70ea2f);}[a21_0x4fcf5f(0xa0)](_0x249cb2){const _0x3f2936=a21_0x4fcf5f;return _0x3f2936(0x8a)+this[_0x3f2936(0x85)]+_0x3f2936(0xc2)+this[_0x3f2936(0xb4)]+_0x3f2936(0xa7)+_0x249cb2[_0x3f2936(0x99)](/<[^>]*>/g,'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</voice>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</speak>';}async['_rawSSMLRequest'](_0x179973){const _0x38a3c9=a21_0x4fcf5f,_0x431f14=this['_generateRequestId'](),_0x4ab97d=_0x38a3c9(0xa3)+_0x431f14+_0x38a3c9(0xac)+_0x179973[_0x38a3c9(0x6c)]();let _0x7d8f0a;const _0x576c69=new ReadableStream({'start'(_0x5ddfd4){_0x7d8f0a=_0x5ddfd4;},'cancel'(){}});return this[_0x38a3c9(0x95)][_0x431f14]=_0x7d8f0a,await this['_send'](_0x4ab97d),_0x576c69;}['_generateRequestId'](){const _0x3b33c3=a21_0x4fcf5f,_0x5d6d64=new Uint8Array(0x10);return crypto['getRandomValues'](_0x5d6d64),Array[_0x3b33c3(0x82)](_0x5d6d64,_0x207430=>_0x207430[_0x3b33c3(0xaf)](0x10)[_0x3b33c3(0xa4)](0x2,'0'))[_0x3b33c3(0x97)]('');}}const tts=new MsEdgeTTS();function a21_0x9759(_0xc3ac58,_0x1f062f){const _0x26e2e8=a21_0x26e2();return a21_0x9759=function(_0x9759a9,_0x4789b1){_0x9759a9=_0x9759a9-0x6b;let _0x20f253=_0x26e2e8[_0x9759a9];return _0x20f253;},a21_0x9759(_0xc3ac58,_0x1f062f);}async function fetchStream(_0x10ff4e){const _0x44601b=a21_0x4fcf5f,_0x3e9a96=_0x10ff4e[_0x44601b(0x8e)](),_0x3bc426=[];while(!![]){const {done:_0x9893d4,value:_0x36d520}=await _0x3e9a96[_0x44601b(0x87)]();if(_0x9893d4)break;_0x3bc426['push'](_0x36d520);}return new Blob(_0x3bc426,{'type':_0x44601b(0xbf)});}async function streamToAudio(_0x29e551){const _0x3fc68c=a21_0x4fcf5f,_0xb15f43=new MediaSource();let _0x3e0be9=URL[_0x3fc68c(0x8b)](_0xb15f43);;return _0xb15f43[_0x3fc68c(0x72)](_0x3fc68c(0x79),()=>{const _0x4b7d6f=_0x3fc68c,_0x208dd0=_0xb15f43[_0x4b7d6f(0xae)](_0x4b7d6f(0xbf));async function _0x3ae006(_0x31b093){return new Promise((_0x1ec161,_0x4e6989)=>{const _0x470c57=a21_0x9759;_0x208dd0['addEventListener'](_0x470c57(0x7f),()=>{_0x1ec161();},{'once':!![]}),_0x208dd0[_0x470c57(0x72)](_0x470c57(0xc3),_0x143921=>{_0x4e6989(_0x143921);},{'once':!![]}),_0x208dd0[_0x470c57(0x77)](_0x31b093);});}async function _0x17af80(_0x3d3a1c){const _0x50e5ba=_0x4b7d6f,_0x21e757=_0x3d3a1c[_0x50e5ba(0x8e)]();while(!![]){const {done:_0x56863a,value:_0x48cbe5}=await _0x21e757[_0x50e5ba(0x87)]();if(_0x56863a)break;await _0x3ae006(_0x48cbe5);}_0xb15f43['endOfStream']();}_0x17af80(_0x29e551);},{'once':!![]}),_0x3e0be9;}async function synthesizeMsEdge(){const _0x7fd257=a21_0x4fcf5f;let _0x3912f0=arguments[_0x7fd257(0xb9)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:_0x7fd257(0xc4),_0x5507e3=arguments['length']>0x1?arguments[0x1]:undefined,_0x3d1de2=_0x5507e3?.['id'];await tts[_0x7fd257(0x7e)](_0x3d1de2,OUTPUT_FORMAT[_0x7fd257(0xc7)]);const _0x592cb9=await tts[_0x7fd257(0x7b)](_0x3912f0);if(window[_0x7fd257(0xb3)]&&!navigator['userAgent']['includes'](_0x7fd257(0x75)))return await streamToAudio(_0x592cb9);console['log']('no\x20audio\x20stream\x20support,\x20fallback');let _0x2a7cef=await fetchStream(_0x592cb9);return _0x7fd257(0xcd)+await _0x2a7cef[_0x7fd257(0x84)]()[_0x7fd257(0xc5)](_0x105161=>btoa(String['fromCharCode'](...new Uint8Array(_0x105161))));}